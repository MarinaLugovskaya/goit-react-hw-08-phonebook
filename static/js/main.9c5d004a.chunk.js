(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var c,r,a=n(0),o=n.n(a),u=n(25),s=n.n(u),i=n(16),l=n(47),j=n(17),d=n(33),b=n(1),h=n(32),O=n(48),f=n.n(O),p=n(20),g={getLoggedIn:function(t){return t.auth.isLoggedIn},getUserName:function(t){return t.auth.user.name}},x=Object(b.d)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:(c={},Object(j.a)(c,p.a.register.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(j.a)(c,p.a.logIn.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(j.a)(c,p.a.logOut.fulfilled,(function(t,e){t.user={name:null,email:null},t.token=null,t.isLoggedIn=!1})),c)}).reducer,m=n(49),v=n.n(m),y=n(26),k=n(45),w=([].concat(Object(d.a)(Object(b.e)()),[v.a]),{key:"auth",storage:f.a,whitelist:["token"]}),C=Object(b.a)({reducer:(r={auth:Object(h.a)(w,x)},Object(j.a)(r,y.a.reducerPath,y.a.reducer),Object(j.a)(r,"filter",k.a),r),middleware:function(t){return[].concat(Object(d.a)(t()),[y.a.middleware])}}),I=Object(h.b)(C),L=n(7),F=n(6),z=n(46),T=n.n(z),S=n(2);function q(t){var e=t.children;return Object(S.jsx)("div",{children:e})}function A(){return Object(S.jsxs)("nav",{children:[Object(S.jsx)(i.b,{exact:!0,to:"/",children:"Home"}),Object(S.jsx)(i.b,{to:"/contacts",children:"Contacts"})]})}function E(){var t=Object(L.d)(),e=Object(L.e)(g.getUserName);return Object(S.jsxs)("div",{children:[Object(S.jsxs)("span",{children:["Welcome, ",e]}),Object(S.jsx)("button",{type:"button",onClick:function(){return t(p.a.logOut())},children:"Add"})]})}function P(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(i.b,{to:"/register",axact:!0,children:"Register"}),Object(S.jsx)(i.b,{to:"/login",children:"Login"})]})}function U(){var t=Object(L.e)(g.getLoggedIn);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("header",{children:[Object(S.jsx)(A,{}),t?Object(S.jsx)(E,{}):Object(S.jsx)(P,{})]})})}var B=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,105))})),M=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,106))})),R=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,107))})),D=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,108))}));function J(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(q,{children:[Object(S.jsx)(U,{}),Object(S.jsx)(a.Suspense,{fallback:Object(S.jsx)(T.a,{type:"Puff",color:"#00BFFF",height:80,width:80}),children:Object(S.jsxs)(F.c,{children:[Object(S.jsx)(F.a,{path:"/",exact:!0,children:Object(S.jsx)(B,{})}),Object(S.jsx)(F.a,{path:"/login",exact:!0,children:Object(S.jsx)(M,{})}),Object(S.jsx)(F.a,{path:"/register",children:Object(S.jsx)(R,{})}),Object(S.jsx)(F.a,{path:"/contacts",children:Object(S.jsx)(D,{})})]})})]})})}n(99);s.a.render(Object(S.jsx)(o.a.StrictMode,{children:Object(S.jsx)(L.a,{store:C,children:Object(S.jsx)(l.a,{loading:null,persistor:I,children:Object(S.jsx)(i.a,{children:Object(S.jsx)(J,{})})})})}),document.getElementById("root"))},20:function(t,e,n){"use strict";var c=n(18),r=n.n(c),a=n(28),o=n(19),u=n.n(o),s=n(1);u.a.defaults.baseURL="https://connections-api.herokuapp.com";var i=function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},l=function(t){u.a.defaults.headers.common.Authorization=""},j=Object(s.c)("auth/register",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/users/signup",e);case 3:return n=t.sent,c=n.data,i(c.token),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),d=Object(s.c)("auth/login",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/users/login",e);case 3:return n=t.sent,c=n.data,i(c.token),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),b={register:j,logIn:d,logOut:Object(s.c)("auth/logout",Object(a.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/users/logout");case 3:l(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))))};e.a=b},26:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return u}));var c=n(50),r=n(9),a=Object(c.a)({reducerPath:"contactsApi",baseQuery:Object(r.d)({baseUrl:"https://616b374416c3fa001717162e.mockapi.io/api/v1/"}),tagTypes:["Contact"],endpoints:function(t){return{fetchContacts:t.query({query:function(){return"/contacts"},providesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:t}},invalidatesTags:["Contact"]})}}}),o=a.useFetchContactsQuery,u=a.useDeleteContactMutation;a.useCreateContactMutation},45:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var c=n(1),r=Object(c.d)({name:"contacts/filter",initialState:"",reducers:{filter:function(t,e){return e.payload}}}),a=r.actions.filter;e.a=r.reducer},99:function(t,e,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.9c5d004a.chunk.js.map